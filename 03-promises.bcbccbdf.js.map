{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEaC,SAASC,cAAc,SAC/BC,iBAAiB,UAAU,SAAAC,GAC9BA,EAAEC,iBACF,IAEmBC,EAAfF,EAAEG,cADJC,SAAYC,EAAKH,EAALG,MAAOC,EAAIJ,EAAJI,KAAMC,EAAML,EAANK,OAG3BC,EAAUC,OAAOJ,EAAMK,OAAQD,OAAOH,EAAKI,OAAQD,OAAOF,EAAOG,QACjEV,EAAEG,cAAcQ,O,IAYlB,IAAMH,EAAY,SAACI,EAAYC,EAAWN,GACxC,I,oBACEO,YACE,W,OAZiBC,EAaDC,EAbWX,EAaRY,EAZDC,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CAAEN,WAAUV,UAE5Be,QAAQE,OAAO,CAAEP,WAAUV,WAS3BkB,MAAK,SAAAC,G,IAAGT,EAAQS,EAART,SAAUV,EAAKmB,EAALnB,MACjBV,EAAA8B,OAAOC,QAAQ,sBAAqCC,OAAfZ,EAAS,QAAYY,OAANtB,EAAM,MAAK,CAC7DuB,QAAS,M,IAGZC,OAAM,SAAAL,G,IAAGT,EAAQS,EAART,SAAUV,EAAKmB,EAALnB,MAClBV,EAAA8B,OAAOK,QAAQ,oBAAmCH,OAAfZ,EAAS,QAAYY,OAANtB,EAAM,MAAK,CAC3DuB,QAAS,M,IArBvB,IAAuBb,EAAUV,C,GAwB3BY,E,EAdKc,EAAI,EAAGC,EAAQpB,EAAYmB,GAAKxB,EAAQwB,GAAK,EAAGC,GAASnB,EAASoB,EAAAF,EAAAC,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const {\n    elements: { delay, step, amount },\n  } = e.currentTarget;\n\n  onExecute(Number(delay.value), Number(step.value), Number(amount.value));\n  e.currentTarget.reset();\n});\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({ position, delay });\n  } else {\n    return Promise.reject({ position, delay });\n  }\n}\n\nconst onExecute = (firstDelay, delayStep, amount) => {\n  for (let i = 1, delay = firstDelay; i <= amount; i += 1, delay += delayStep) {\n    setTimeout(\n      () =>\n        createPromise(i, delay)\n          .then(({ position, delay }) => {\n            Notify.success(` Fulfilled promise ${position} in ${delay}ms`, {\n              timeout: 2500,\n            });\n          })\n          .catch(({ position, delay }) => {\n            Notify.failure(`Rejected promise ${position} in ${delay}ms`, {\n              timeout: 2500,\n            });\n          }),\n      delay\n    );\n  }\n};\n"],"names":["$h6c0i","parcelRequire","document","querySelector","addEventListener","e","preventDefault","_elements","currentTarget","elements","delay","step","amount","$ce04d3a99e08e73b$var$onExecute","Number","value","reset","firstDelay","delayStep","setTimeout","position","i","delay1","Math","random","Promise","resolve","reject","then","param","Notify","success","concat","timeout","catch","failure","i1","delay11","_loop"],"version":3,"file":"03-promises.bcbccbdf.js.map"}